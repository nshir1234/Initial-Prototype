<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Server – Order Entry</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<style>
  body { font-family: Arial; padding:20px; background:white; }
  header { display:flex; justify-content:space-between; }
  .btn { background:#007bff; color:white; padding:8px 12px; border-radius:6px; text-decoration:none; }
  .panel { background:#f3f3f3; padding:15px; border-radius:8px; margin-top:15px; }
  .menu-item { display:flex; justify-content:space-between; padding:6px 0; }
  button { padding:5px 10px; }
  ul { padding-left:0; list-style:none; }
</style>
</head>

<body>
<header>
  <h2>Server – Order Entry</h2>
  <a class="btn" href="kitchen.html">Kitchen Board</a>
</header>

<div class="panel">
  <h3>Menu</h3>
  <div id="menu"></div>
</div>

<div class="panel">
  <h3>Create Order</h3>

  Table: <input id="tableNum" type="number" min="1" /><br><br>

  <ul id="orderList"></ul>

  Note: <input id="note" style="width:60%" /><br><br>

  <button onclick="submitTicket()">Submit Order</button>
  <div id="msg" style="color:green;margin-top:10px;"></div>
</div>

<script>
const MENU = [
  {id:'1', name:'Caesar Salad'},
  {id:'2', name:'Cheeseburger'},
  {id:'3', name:'Pizza'},
  {id:'4', name:'Fries'}
];

const order = [];

function renderMenu() {
  let html = "";
  MENU.forEach(item => {
    html += `
      <div class="menu-item">
        <span>${item.name}</span>
        <button onclick="addItem('${item.id}')">Add</button>
      </div>
    `;
  });
  document.getElementById("menu").innerHTML = html;
}

function addItem(id) {
  const item = MENU.find(x => x.id === id);
  order.push(item.name);

  renderOrder();
}

function renderOrder() {
  let html = "";
  order.forEach(item => html += `<li>${item}</li>`);
  document.getElementById("orderList").innerHTML = html;
}

function submitTicket() {
  const tickets = JSON.parse(localStorage.getItem("tickets") || "[]");

  tickets.push({
    id: Date.now(),
    table: document.getElementById("tableNum").value,
    items: order,
    note: document.getElementById("note").value,
    status: "New"
  });

  localStorage.setItem("tickets", JSON.stringify(tickets));

  order.length = 0;
  renderOrder();
  document.getElementById("msg").innerText = "Order Submitted!";
}

renderMenu();
</script>

</body>
</html>
